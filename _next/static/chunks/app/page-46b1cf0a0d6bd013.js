(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{439:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>l});var n=i(5155),t=i(2115),a=i(4877);function l(){let e="/BusySimulator",[s,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),c=(0,t.useRef)({}),r=(0,t.useRef)({}),d=(0,t.useRef)(s);d.current=s,(0,t.useEffect)(()=>{fetch("".concat(e,"/config.json")).then(e=>e.json()).then(e=>{i(e.map(e=>({...e,isPlaying:!1,notificationCount:0,speed:50})))})},[e]),(0,t.useEffect)(()=>(s.length>0&&s.forEach(s=>{if(!c.current[s.id]){let i=new a.Howl({src:["".concat(e,"/sounds/").concat(s.sound)],loop:!1});c.current[s.id]={sound:i,timeoutId:null,playLoop:function(){let e=d.current.find(e=>e.id===s.id);if(!e||!e.isPlaying)return void this.stopLoop();let i=Math.pow(parseInt(e.speed)+15,1.2)/10,n=Math.round(Math.random()*(800*i-100*i)+100*i);this.timeoutId=setTimeout(()=>{var i,n,t;(null==(i=c.current[s.id])?void 0:i.sound.playing())&&(null==(t=c.current[s.id])||t.sound.stop()),null==(n=c.current[s.id])||n.sound.play();let a=r.current[s.id];a&&(a.classList.add("bouncing"),setTimeout(()=>{a.classList.remove("bouncing")},500)),p(s.id,{notificationCount:e.notificationCount+1}),this.playLoop()},n)},stopLoop:function(){clearTimeout(this.timeoutId),this.sound.stop()}}}}),()=>{Object.values(c.current).forEach(e=>{e.stopLoop()})}),[s.length,e]);let p=(e,s)=>{i(i=>i.map(i=>i.id===e?{...i,...s}:i))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{style:{background:"url('".concat(e,"/logo.png') top center no-repeat"),backgroundSize:"contain"},children:[(0,n.jsx)("h1",{style:{display:"none"},children:"Busy Simulator"}),(0,n.jsxs)("div",{id:"bubble",children:[(0,n.jsx)("h2",{children:"Feign importance with repeating app sounds!"}),"Click an app to begin.",(0,n.jsx)("strong",{id:"mobile-tip",children:"(HINT: Turn phone off silent)"})]})]}),(0,n.jsxs)("div",{className:"container",children:[s.map(i=>(0,n.jsxs)("div",{id:i.id,className:"app",children:[(0,n.jsxs)("a",{onClick:e=>{e.preventDefault(),(e=>{let i=s.find(s=>s.id===e);if(!i)return;let n=c.current[e],t=!i.isPlaying;if(p(e,{isPlaying:t,notificationCount:+!!t}),t){n.sound.play();let s=r.current[e];s&&(s.classList.add("bouncing"),setTimeout(()=>{s.classList.remove("bouncing")},500)),setTimeout(()=>n.playLoop(),0)}else n.stopLoop()})(i.id)},href:"#",children:[(0,n.jsxs)("div",{className:"app-icon",ref:e=>r.current[i.id]=e,children:[(0,n.jsx)("img",{src:"".concat(e,"/icons/").concat(i.icon),alt:i.name,draggable:!1}),(0,n.jsx)("div",{className:"badge",style:{display:i.notificationCount>0?"block":"none"},children:i.notificationCount})]}),(0,n.jsx)("label",{className:i.isPlaying?"selected":"",children:i.name})]}),(0,n.jsxs)("div",{className:"slidecontainer",children:[(0,n.jsx)("label",{className:"speed-label",children:"Faster"}),(0,n.jsx)("input",{type:"range",min:"10",max:"100",value:i.speed,className:"slider",onChange:e=>{p(i.id,{speed:e.target.value})}}),(0,n.jsx)("label",{className:"speed-label",children:"Slower"})]})]},i.id)),(0,n.jsx)("div",{id:"stopall",className:"app",children:(0,n.jsxs)("a",{onClick:e=>{e.preventDefault(),i(e=>e.map(e=>({...e,isPlaying:!1,notificationCount:0}))),Object.values(c.current).forEach(e=>{e.stopLoop()})},href:"#",children:[(0,n.jsx)("img",{src:"".concat(e,"/icons/stop.png"),alt:"Stop All",draggable:!1}),(0,n.jsx)("label",{children:"Stop all"})]})}),(0,n.jsx)("div",{id:"about",className:"app",children:(0,n.jsxs)("a",{onClick:e=>{e.preventDefault(),o(!0)},href:"#",children:[(0,n.jsx)("img",{src:"".concat(e,"/icons/bonzi.png"),alt:"About",draggable:!1}),(0,n.jsx)("label",{children:"About"})]})}),(0,n.jsx)("div",{className:"filling-empty-space-childs"}),(0,n.jsx)("div",{className:"filling-empty-space-childs"}),(0,n.jsx)("div",{className:"filling-empty-space-childs"}),(0,n.jsx)("div",{className:"filling-empty-space-childs"}),(0,n.jsx)("div",{className:"filling-empty-space-childs"})]}),l&&(0,n.jsx)("div",{className:"modal",style:{display:"block"},children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsx)("span",{className:"close-button",onClick:()=>o(!1),children:"\xd7"}),(0,n.jsx)("h2",{children:"Busy Simulator"}),(0,n.jsx)("p",{children:"Pretend you're busy by playing a bunch of app notification sounds."}),(0,n.jsx)("p",{children:"Click on the app icon to start its notifications. Use the sliders to increase the speed of the insanity or whatever."}),(0,n.jsx)("p",{children:'Tip: turn "Original Sound" to On on Zoom for best effect.'}),(0,n.jsxs)("p",{children:["Original by ",(0,n.jsx)("a",{href:"https://twitter.com/lanewinfield",target:"_blank",rel:"noopener noreferrer",children:"Brian Moore"})]}),(0,n.jsxs)("p",{children:["This version by ",(0,n.jsx)("a",{href:"https://github.com/cloudwaddie",target:"_blank",rel:"noopener",children:"CloudWaddie"})]}),(0,n.jsxs)("p",{children:["Want to get an app added? Just create an issue on the github page ",(0,n.jsx)("a",{href:"https://github.com/cloudwaddie/BusySimulator",target:"_blank",rel:"noopener",children:"here"})]})]})})]})}},7455:(e,s,i)=>{Promise.resolve().then(i.bind(i,439))}},e=>{e.O(0,[877,441,964,358],()=>e(e.s=7455)),_N_E=e.O()}]);