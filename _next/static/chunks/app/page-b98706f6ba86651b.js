(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{439:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>o});var i=n(5155),t=n(2115),a=n(4877),l=n(9509);function o(){let e=l.env.NEXT_PUBLIC_ASSET_PREFIX||"",[s,n]=(0,t.useState)([]),[o,c]=(0,t.useState)(!1),r=(0,t.useRef)({}),d=(0,t.useRef)({}),p=(0,t.useRef)(s);p.current=s,(0,t.useEffect)(()=>{fetch("".concat(e,"/config.json")).then(e=>e.json()).then(e=>{n(e.map(e=>({...e,isPlaying:!1,notificationCount:0,speed:50})))})},[e]),(0,t.useEffect)(()=>(s.length>0&&s.forEach(s=>{if(!r.current[s.id]){let n=new a.Howl({src:["".concat(e,"/sounds/").concat(s.sound)],loop:!1});r.current[s.id]={sound:n,timeoutId:null,playLoop:function(){let e=p.current.find(e=>e.id===s.id);if(!e||!e.isPlaying)return void this.stopLoop();let n=Math.pow(parseInt(e.speed)+15,1.2)/10,i=Math.round(Math.random()*(800*n-100*n)+100*n);this.timeoutId=setTimeout(()=>{var n,i,t;(null==(n=r.current[s.id])?void 0:n.sound.playing())&&(null==(t=r.current[s.id])||t.sound.stop()),null==(i=r.current[s.id])||i.sound.play();let a=d.current[s.id];a&&(a.classList.add("bouncing"),setTimeout(()=>{a.classList.remove("bouncing")},500)),u(s.id,{notificationCount:e.notificationCount+1}),this.playLoop()},i)},stopLoop:function(){clearTimeout(this.timeoutId),this.sound.stop()}}}}),()=>{Object.values(r.current).forEach(e=>{e.stopLoop()})}),[s.length,e]);let u=(e,s)=>{n(n=>n.map(n=>n.id===e?{...n,...s}:n))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("header",{style:{background:"url('".concat(e,"/logo.png') top center no-repeat"),backgroundSize:"contain"},children:[(0,i.jsx)("h1",{style:{display:"none"},children:"Busy Simulator"}),(0,i.jsxs)("div",{id:"bubble",children:[(0,i.jsx)("h2",{children:"Feign importance with repeating app sounds!"}),"Click an app to begin.",(0,i.jsx)("strong",{id:"mobile-tip",children:"(HINT: Turn phone off silent)"})]})]}),(0,i.jsxs)("div",{className:"container",children:[s.map(n=>(0,i.jsxs)("div",{id:n.id,className:"app",children:[(0,i.jsxs)("a",{onClick:e=>{e.preventDefault(),(e=>{let n=s.find(s=>s.id===e);if(!n)return;let i=r.current[e],t=!n.isPlaying;if(u(e,{isPlaying:t,notificationCount:+!!t}),t){i.sound.play();let s=d.current[e];s&&(s.classList.add("bouncing"),setTimeout(()=>{s.classList.remove("bouncing")},500)),setTimeout(()=>i.playLoop(),0)}else i.stopLoop()})(n.id)},href:"#",children:[(0,i.jsxs)("div",{className:"app-icon",ref:e=>d.current[n.id]=e,children:[(0,i.jsx)("img",{src:"".concat(e,"/icons/").concat(n.icon),alt:n.name,draggable:!1}),(0,i.jsx)("div",{className:"badge",style:{display:n.notificationCount>0?"block":"none"},children:n.notificationCount})]}),(0,i.jsx)("label",{className:n.isPlaying?"selected":"",children:n.name})]}),(0,i.jsxs)("div",{className:"slidecontainer",children:[(0,i.jsx)("label",{className:"speed-label",children:"Faster"}),(0,i.jsx)("input",{type:"range",min:"10",max:"100",value:n.speed,className:"slider",onChange:e=>{u(n.id,{speed:e.target.value})}}),(0,i.jsx)("label",{className:"speed-label",children:"Slower"})]})]},n.id)),(0,i.jsx)("div",{id:"stopall",className:"app",children:(0,i.jsxs)("a",{onClick:e=>{e.preventDefault(),n(e=>e.map(e=>({...e,isPlaying:!1,notificationCount:0}))),Object.values(r.current).forEach(e=>{e.stopLoop()})},href:"#",children:[(0,i.jsx)("img",{src:"".concat(e,"/icons/stop.png"),alt:"Stop All",draggable:!1}),(0,i.jsx)("label",{children:"Stop all"})]})}),(0,i.jsx)("div",{id:"about",className:"app",children:(0,i.jsxs)("a",{onClick:e=>{e.preventDefault(),c(!0)},href:"#",children:[(0,i.jsx)("img",{src:"".concat(e,"/icons/bonzi.png"),alt:"About",draggable:!1}),(0,i.jsx)("label",{children:"About"})]})}),(0,i.jsx)("div",{className:"filling-empty-space-childs"}),(0,i.jsx)("div",{className:"filling-empty-space-childs"}),(0,i.jsx)("div",{className:"filling-empty-space-childs"}),(0,i.jsx)("div",{className:"filling-empty-space-childs"}),(0,i.jsx)("div",{className:"filling-empty-space-childs"})]}),o&&(0,i.jsx)("div",{className:"modal",style:{display:"block"},children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("span",{className:"close-button",onClick:()=>c(!1),children:"\xd7"}),(0,i.jsx)("h2",{children:"Busy Simulator"}),(0,i.jsx)("p",{children:"Pretend you're busy by playing a bunch of app notification sounds."}),(0,i.jsx)("p",{children:"Click on the app icon to start its notifications. Use the sliders to increase the speed of the insanity or whatever."}),(0,i.jsx)("p",{children:'Tip: turn "Original Sound" to On on Zoom for best effect.'}),(0,i.jsxs)("p",{children:["Original by ",(0,i.jsx)("a",{href:"https://twitter.com/lanewinfield",target:"_blank",rel:"noopener noreferrer",children:"Brian Moore"})]}),(0,i.jsxs)("p",{children:["This version by ",(0,i.jsx)("a",{href:"https://github.com/cloudwaddie",target:"_blank",rel:"noopener",children:"CloudWaddie"})]}),(0,i.jsxs)("p",{children:["Want to get an app added? Just create an issue on the github page ",(0,i.jsx)("a",{href:"https://github.com/cloudwaddie/BusySimulator",target:"_blank",rel:"noopener",children:"here"})]})]})})]})}},7587:(e,s,n)=>{Promise.resolve().then(n.bind(n,439))}},e=>{e.O(0,[877,441,964,358],()=>e(e.s=7587)),_N_E=e.O()}]);